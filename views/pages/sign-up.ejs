<!doctype html>
<html class="no-js " lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
<meta name="description" content="Responsive Bootstrap 4 and web Application ui kit.">

<title>:: Syncfoxx :: Sign Up</title>

<!-- Favicon-->
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css">

<!-- Custom Css -->
<link rel="stylesheet" href="/css/main.css">    
<link rel="stylesheet" href="/css/color_skins.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/jquery.toast.min.css">
<script src="https://accounts.google.com/gsi/client" async defer></script>

</head>

<body class="theme-black">
<div class="authentication">
    <div class="container">
        <div class="col-md-12 content-center">
            <div class="row">
                <div class="col-lg-6 col-md-12">
                    <div class="company_detail">
                        <h4 class="logo"><img src="/images/logo.svg" alt=""> Syncfoxx</h4>
                        <h3>The ultimate <strong>Bootstrap 4</strong> Admin Dashboard</h3>
                        <p>Syncfoxx is fully based on HTML5 + CSS3 Standards. Is fully responsive and clean on every device and every browser</p>                        
                        <div class="footer">
                            <ul  class="social_link list-unstyled">
                                <li><a href="https://thememakker.com" title="ThemeMakker"><i class="zmdi zmdi-globe"></i></a></li>
                                <li><a href="https://themeforest.net/user/thememakker" title="Themeforest"><i class="zmdi zmdi-shield-check"></i></a></li>
                                <li><a href="https://www.linkedin.com/company/thememakker/" title="LinkedIn"><i class="zmdi zmdi-linkedin"></i></a></li>
                                <li><a href="https://www.facebook.com/thememakkerteam" title="Facebook"><i class="zmdi zmdi-facebook"></i></a></li>
                                <li><a href="http://twitter.com/thememakker" title="Twitter"><i class="zmdi zmdi-twitter"></i></a></li>
                                <li><a href="http://plus.google.com/+thememakker" title="Google plus"><i class="zmdi zmdi-google-plus"></i></a></li>
                                <li><a href="https://www.behance.net/thememakker" title="Behance"><i class="zmdi zmdi-behance"></i></a></li>
                            </ul>
                            <hr>
                            <ul>
                                <li><a href="http://thememakker.com/contact/" target="_blank">Contact Us</a></li>
                                <li><a href="http://thememakker.com/about/" target="_blank">About Us</a></li>
                                <li><a href="http://thememakker.com/services/" target="_blank">Services</a></li>
                                <li><a href="javascript:void(0);">FAQ</a></li>
                            </ul>
                        </div>
                    </div>                    
                </div>
                <div class="col-lg-5 col-md-12 offset-lg-1">
                    <div class="card-plain">
                        <div class="header">
                            <h5>Sign Up</h5>
                            <span>Register a new membership</span>
                        </div>
                        <form action="/register" method="post" class="form">                            
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Enter User Name" id="username" name="username" required>
                                <span class="input-group-addon"><i class="zmdi zmdi-account-circle"></i></span>
                            </div>
                            <div class="input-group">
                                <input type="email" class="form-control" placeholder="Enter Email" id="email" name="email" required>
                                <span class="input-group-addon"><i class="zmdi zmdi-email"></i></span>
                            </div>
                            <div class="input-group">
                                <input type="password" placeholder="Password" class="form-control" id="password" name="password" required/>
                                <span class="input-group-addon"><i class="zmdi zmdi-lock"></i></span>
                            </div>
                           <div class="input-group m-2">
                            <label for="type" class="m-2"> Register as: </label>
                            <select name="type" id="type"  required>
                              <option value="user" selected="selected" >User</option>
                              <option value="artist">Artist</option>
                            </select>
                           </div>
                          
                            <div class="checkbox">
                                <input id="terms" type="checkbox" required>
                                <label for="terms">I read and Agree to the <a href="javascript:void(0);">Terms of Usage</a></label>
                            </div> 
                            <div class="footer">

                                <button type="submit" class="btn btn-primary btn-round btn-block">SIGN UP</button>
                               <div class="d-flex flex-row justify-content-center">
                               <div>
                                <div id="g_id_onload"
                                data-client_id="161003433702-uhc9pgqfko5fdp9khuftlf4sicpri6r2.apps.googleusercontent.com"
                                data-context="signup"
                                data-ux_mode="popup"
                                data-callback="handleCredentialResponse"
                                data-itp_support="true">
                           </div>
                           
                           <div class="g_id_signin"
                                data-type="standard"
                                data-shape="pill"
                                data-theme="filled_black"
                                data-text="signin_with"
                                data-size="large"
                                data-logo_alignment="left">
                           </div>
                               </div>
                               </div>
                            </div>                           
                        </form>
                       
                        <a class="link" href="login">You already have a membership?</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Jquery Core Js -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="/js/jquery-3.3.1.min.js"></script>
<script src="/bundles/libscripts.bundle.js"></script>
<script src="/bundles/vendorscripts.bundle.js"></script> <!-- Lib Scripts Plugin Js -->
  <script src="/js/jquery.toast.min.js"></script>

<% let messages = message; %>
<script>
   let getMessage = "<%= messages  %>"; 
  function showToast(text){
    console.log("donee");
    // navigator.clipboard.writeText(getMessage);
    $.toast({
      text: text,
    showHideTransition: 'slide',
    icon: 'error',
    heading: 'Failed'}
    )
    }


    function showToast2(text){
    console.log("donee");
    // navigator.clipboard.writeText(getMessage);
    $.toast({
      text: text,
    showHideTransition: 'slide',
    icon: 'success',
    heading: 'Success',}
    )
    }

   
    if(getMessage === "null"){
       
    }else if(getMessage === "pop"){
       
      showToast("Login/Signup an account")
    }
    
    else{
      
      showToast2(getMessage)
    }

    console.log(`${getMessage}`);
   

 
    
    

    globalThis.handleCredentialResponse = (response) => {
        var element = document.getElementById("type");
      var type = element.options[element.selectedIndex].value;
  // decodeJwtResponse() is a custom function defined by you

  // to decode the credential response.

let id_token = response.credential;


  axios({
  method: 'post',
  url: '/google_login',
  data: {
    token: id_token,
    type: type
  }
}).then((response) => {
  console.log(response.data);
  if(response.data.message){
    if(response.data.islogin){
        
        location.assign("/index")
    }else{
        if(response.data.usertype=="USER"){
            location.assign("/user-setup")
        }else{
            location.assign("/artist-setup")
        }
        
    }
    
  }else{
    location.assign("/login")
  }
}, (error) => {
  console.log(error);
});


}


</script>
</body>
</html>